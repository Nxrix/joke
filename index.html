<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>JOKE</title>
</head>
<style>
:root, :host {
  --card-bg: #ffffff;
  --card-black: #000000;
  --card-red: #de1b45;
}
@font-face {
  font-family: "en";
  src: url("/assets/fonts/regular.woff2");
}
@font-face {
  font-family: "cardr";
  src: url("fonts/cardr.ttf");
}
* {
  padding: 0;
  margin: 0;
  border: 0;
  box-sizing: border-box;
  text-align: auto !important;
  unicode-bidi: plaintext !important;
  -webkit-tap-highlight-color: transparent;
}
::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}
::-webkit-scrollbar-track {
  background-color: #0000;
}
::-webkit-scrollbar-thumb {
  background-color: #2253;
}
::-webkit-scrollbar-thumb:hover {
  background-color: #2255;
}
::-webkit-scrollbar-corner {
  background-color: #0000;
}
html,body {
  background-color: #fff;
  font-family: "en";
  color: #000;
  width: 100%;
  height: 100%;
  overflow: hidden;
  overscroll-behavior: none;
}
body {
  background-color: #eee;
  overflow-y: auto;
}

.cards {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  width: var(--vmin);
  height: var(--vmin);
  margin: calc((var(--vh) - var(--vmin))/2) calc((var(--vw) - var(--vmin))/2);
  perspective: calc(var(--vmin));
  z-index: 1;
}
.cards .card {
  background-color: var(--card-bg);
  position: fixed;
  display: flex;
  flex-direction: column;
  width: calc(var(--vmin)/100*15);
  height: calc(var(--vmin)/100*20);
  border-radius: calc(var(--vmin)/100*2);
  user-select: none;

  transform-style: preserve-3d;
  transform-origin: center;
  transition: transform 0.25s ease;
}

.cards .card .front , .cards .card .back {
  -webkit-backface-visibility: hidden;
	backface-visibility: hidden;
  width: 100%;
  height: 100%;
}

.cards .card .front {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  font-family: "cardr";
  font-size: calc(var(--vmin)/100*4);
  color: var(--card-black);
}
.cards .card.red .front {
  color: var(--card-red);
}
.cards .card .back {
  background-image: url("data:image/png;base64,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");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  transform: rotateY(180deg);
  position: absolute;
}
.cards .card.t2 .front {
  padding: 0 75% 80% 0;
  font-size: calc(var(--vmin)/100*2);
  cursor: pointer;
}
.cards .card .front::after {
  opacity: 0;
  transition: opacity 0.25s ease;
}
.cards .card.t2 .front::after {
  content: attr(after-content);
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  opacity: 1;
  font-size: calc(var(--vmin)/100*3);
}
.cards .card.t2 {
  outline: 1px solid #1141;
}

#select_trump_board {
  background-color: #0013;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  --margin: calc(var(--vmin)/100*3);
  width: calc(var(--vw) - var(--margin)*2);
  height: calc(var(--vh) - var(--margin)*2);
  margin: calc(var(--margin) - var(--vh)) var(--margin) 0 var(--margin);
  padding: calc((var(--vh) - var(--vmin))/2) calc((var(--vw) - var(--vmin))/2);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.5s ease;
  border-radius: calc(var(--vmin)/100*3);
  z-index: 2;
  box-shadow: 0 0 8px #1142;
}
#select_trump_board div {
  background-color: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 20%;
  box-sizing: border-box;
  margin: 5%;
  border-radius: calc(var(--vmin)/100*2.5);
  font-size: calc(var(--vmin)/100*5);
  user-select: none;
  transition: transform 0.125s ease;
  color: var(--card-black);
  font-family: "cardr";
}
#select_trump_board div:hover {
  transform: scale(1.125);
}
#select_trump_board div.red {
  color: var(--card-red);
}
#select_trump_board.active {
  opacity: 1;
  pointer-events: auto;
}

#trump_board {
  background-color: #fff;
  border-radius: calc(var(--vmin)/100*2);
  position: fixed;
  display: flex;
  flex-direction: column;
  width: calc(var(--vmin)/100*10);
  height: calc(var(--vmin)/100*10);
  transform-origin: center;
  user-select: none;
}
#trump_board div {
  display: none;
  width: 100%;
  height: 100%;
  justify-content: center;
  align-items: center;
  font-size: calc(var(--vmin)/100*5);
  font-family: "cardr";
  color: var(--card-black);
}
#trump_board div.red {
  color: var(--card-red);
}

#start_btn {
  display: flex;
  justify-content: center;
  align-items: center;
  width: calc(var(--vmin)/100*10);
  height: calc(var(--vmin)/100*10);
  font-size: calc(var(--vmin)/100*8);
  transform: translateY(calc(var(--vmin)/100*35));
  transition: transform 0.125s ease;
  user-select: none;
}
#start_btn:hover {
  transform: translateY(calc(var(--vmin)/100*35)) scale(1.125);
}

#log_board {
  position: relative;
  height: calc(var(--vh) - var(--margin));
  overflow-y: auto;
  --margin: calc(var(--vmin)/100*3);
  margin: calc(var(--margin)*2) var(--margin) 0 var(--margin);
  padding: calc(var(--vmin)/100*5);
  background: #fff;
  color: #000;
  border-radius: calc(var(--vmin)/100*3) calc(var(--vmin)/100*3) 0 0;
  z-index: 2;
  box-shadow: 0 0 8px #1142;
}
#log_board span {
  font-family: "cardr";
}
#log_board .black {
  color: var(--card-black);
}
#log_board .red {
  color: var(--card-red);
}

#counter_t1, #counter_t2 {
  position: absolute;
  top: 3%;
  background-color: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  width: calc(var(--vmin)/100*10);
  height: calc(var(--vmin)/100*10);
  font-size: calc(var(--vmin)/100*5);
  border-radius: calc(var(--vmin)/100*2);
  margin: calc(var(--vmin)/100*2);
  transition: opacity 0.5s ease;
  font-weight: 900;
}
#counter_t1 {
  left: 3%;
}
#counter_t2 {
  right: 3%;
}

</style>
<body>
  <div id="game_board" class="cards">
    <div id="trump_board">
      <div class="red">‚ô¶</div>
      <div class="red">‚ô•</div>
      <div>‚ô£</div>
      <div>‚ô†</div>
    </div>
    <div id="start_btn">üÉè</div>
    <div id="counter_t1" style="opacity:0">0</div>
    <div id="counter_t2" style="opacity:0">0</div>
  </div>
  <div id="select_trump_board">
    <div class="red">‚ô¶</div>
    <div class="red">‚ô•</div>
    <div>‚ô£</div>
    <div>‚ô†</div>
  </div>
  <div id="log_board"></div>
</body>
<script src="/assets/js/screen.js"></script>
<script>

const set_transform = (id,n,v) => {
  const e = document.getElementById(id);
  let vs = e.style.transform.split(" ");
  const s = vs[n].indexOf("(");
  vs[n] = vs[n].slice(0,s+1)+v+")";
  e.style.transform = vs.join(" ");
}

const set_position = (id,d) => {
  if ( d.x!=null) set_transform(id,0,`calc(var(--vmin)/100*${d.x})`);
  if ( d.y!=null) set_transform(id,1,`calc(var(--vmin)/100*${d.y})`);
  if ( d.z!=null) set_transform(id,2,d.z);
  if (d.rx!=null) set_transform(id,3,d.rx+"deg");
  if (d.ry!=null) set_transform(id,4,d.ry+"deg");
  if (d.rz!=null) set_transform(id,5,d.rz+"deg");
  if ( d.s!=null) set_transform(id,6,d.s);
  if (d.zi!=null) document.getElementById(id).style.zIndex = d.zi;
}
const suits  = ["‚ô¶","‚ô•","‚ô£","‚ô†"];
const suits_n = ["D","H","C","S"];
const ranks = ["2","3","4","5","6","7","8","9","=","J","Q","K","A"];

const rank_values = {
  "2":1,"3":2,"4":3,"5":4,"6":5,"7":6,"8":7,"9":8,"=":9,"J":10,"Q":11,"K":12,"A":13
};

suits.forEach((suit,i) => {
  ranks.forEach((rank,j) => {
    const card = document.createElement("div");
    card.classList.add("card");
    if (suit=="‚ô¶"||suit=="‚ô•") card.classList.add("red");
    card.id = `${rank}-${suit}`;
    card.style.transform = "translateX(0) translateY(0) translateZ(0) rotateX(0) rotateY(180deg) rotateZ(0) scale(1)";
    card.style.zIndex = (i*13+j)/2;
    card.innerHTML = `<div class="front">${rank}<br>${suit}</div><div class="back"></div>`;
    const front = card.querySelector(".front");
    front.setAttribute("after-content",rank+suit);
    game_board.appendChild(card);
  });
});

const reset_cards = () => {
  const il = (i) => {
    const e = document.getElementById(`${ranks[i%13]}-${suits[Math.floor(i/13)]}`);
    e.classList.remove("t2");
    e.style.transform = "translateX(0) translateY(0) translateZ(0) rotateX(0) rotateY(180deg) rotateZ(0) scale(1)";
    e.style.zIndex = i/2;
    if (i<51) setTimeout(il,25,i+1);
  }
  il(0);
};

</script>
<script>

let players = [{hand:[]},{hand:[]},{hand:[]},{hand:[]}];
let trump_suit = null;
let king = null;
let current_leader = null;
let trick = [];
let tricks = [0,0,0,0];
let round = 1;
let turn_order = [];
let turn_index = 0;
let user_played = false;

const create_deck = () => {
  let deck = [];
  for (let s=0;s<suits.length;s++) {
    for (let r=0;r<ranks.length;r++) {
      deck.push({suit:suits[s],rank:ranks[r]});
    }
  }
  return deck;
};

const shuffle = (deck) => {
  for (let i=deck.length-1;i>0;i--) {
    const j = Math.floor(Math.random()*(i+1));
    [deck[i],deck[j]] = [deck[j],deck[i]];
  }
  return deck;
};

const card_beats = (cardA,cardB,leadSuit,trump) => {
  if(cardA.suit==trump&&cardB.suit!=trump) return true;
  if(cardB.suit==trump&&cardA.suit!=trump) return false;
  if(cardA.suit==cardB.suit) {
    return rank_values[cardA.rank]>rank_values[cardB.rank];
  }
  if(cardA.suit==leadSuit&&cardB.suit!=leadSuit) return true;
  return false;
};

const trick_winner = (trick,trump) => {
  let winning = trick[0];
  const lead = winning.card.suit;
  for (let i=1;i<trick.length;i++) {
    const play = trick[i];
    if (card_beats(play.card,winning.card,lead,trump)) {
      winning = play;
    }
  }
  return winning.player;
};

const validate_card = (i,card) => {
  const hand = players[i].hand;
  if (trick.length==0) return true;
  const lead = trick[0].card.suit;
  if (card.suit==lead) return true;
  if (hand.some(c=>c.suit==lead)) {
    return false;
  }
  return true;
};

const sort_hand = (hand) => {
  return hand.sort((a,b) => {
    if (a.suit==b.suit) {
      return rank_values[a.rank]-rank_values[b.rank];
    } else {
      return suits.indexOf(a.suit)-suits.indexOf(b.suit);
    }
  });
};

const remove_card = (i,card) => {
  players[i].hand = players[i].hand.filter(c=>!(c.suit==card.suit&&c.rank==card.rank));
};

const user_play = (i) => {
  if (user_played==true) return;
  if (turn_order[turn_index]!=0) return;
  const card = players[0].hand[i];
  if(!validate_card(0,card)) {
    return;
  }
  user_played = true;
  remove_card(0,card);
  trick.push({player:0,card:card});
  drop_card(0,card);
  log("Player 1 Played <span class=\""+((card.suit=="‚ô¶"||card.suit=="‚ô•")?"red":"black")+"\">"+card.rank+card.suit+"</span>");
  setTimeout(next_turn,250);
};

const bot_play = (playerIndex) => { 
  const hand = players[playerIndex].hand;
  let validCards = [];
  if (trick.length == 0) {
    validCards = hand.slice();
  } else {
    let leadSuit = trick[0]?.card?.suit;
    if (leadSuit) {
      validCards = hand.filter(c=>c.suit==leadSuit);
    }
    if (validCards.length == 0) validCards = hand.slice();
  }
  let currentWinning = null;
  let winningPlayer = null;
  if (trick.length > 0) {
    let leadSuit = trick[0]?.card?.suit;
    if (leadSuit) {
      currentWinning = trick[0].card;
      winningPlayer = trick[0].player;
      trick.forEach(p => {
        if (card_beats(p.card, currentWinning, leadSuit,trump_suit)) {
          currentWinning = p.card;
          winningPlayer = p.player;
        }
      });
    }
  }
  let teammateIndex = (playerIndex+2)%4;
  let candidate;
  if (winningPlayer==teammateIndex) {
    candidate = validCards.reduce((min,c)=>rank_values[c.rank]<rank_values[min.rank]?c:min,validCards[0]);
  } else {
    let betterCards = [];
    if (currentWinning) {
      betterCards = validCards.filter(c=>card_beats(c, currentWinning,trick[0]?.card?.suit, trump_suit));
    }
    if (betterCards.length>0) {
      candidate = betterCards.reduce((min,c)=>rank_values[c.rank]<rank_values[min.rank]?c:min,betterCards[0]);
    } else {
      candidate = validCards.reduce((min,c)=>rank_values[c.rank]<rank_values[min.rank]?c:min,validCards[0]);
    }
  }
  remove_card(playerIndex, candidate);
  trick.push({ player: playerIndex, card: candidate });
  drop_card(playerIndex,candidate);
  log("Player "+(playerIndex+1)+" Played <span class=\""+((candidate.suit=="‚ô¶"||candidate.suit=="‚ô•")?"red":"black")+"\">"+candidate.rank+candidate.suit+"</span>");
  setTimeout(next_turn,250);
};

const next_turn = async () => {
  if (trick.length<4) {
    turn_index++;
    turn_index%=4;
    const next = turn_order[turn_index];
    if (next!=0) {
      setTimeout(bot_play,250,next);
    } else {
      user_played = false;
    }
  } else {
    const winner = trick_winner(trick,trump_suit);
    await new Promise(resolve=>setTimeout(resolve,1000));
    take_cards(trick,winner);
    tricks[winner]++;
    log("Player "+(winner+1)+" won the Trick.");
    current_leader = winner;
    setTimeout(() => {
      trick = [];
      round++;
      const t1 = tricks[0]+tricks[2];
      const t2 = tricks[1]+tricks[3];
      if(t1>6||t2>6) end();
      else start_trick();
    },250);
  }
};

const start_trick = () => {
  log("<br>Trick "+round+":");
  turn_order = [];
  for(let i = 0; i < 4; i++){
    turn_order.push((current_leader+i)&3);
  }
  turn_index = 0;
  if(turn_order[0] == 0) {
    user_played = false;
  } else {
    bot_play(turn_order[0]);
  }
};

//--- ---//

const rot = (n,r) => {
  const t = (r*Math.PI)/180;
  return { x: n*Math.cos(t) , y: n*Math.sin(t) };
}

const fix_hand = (j) => {
  const j2 = (j+king)&3;
  let m = players[j2].hand.length;
  let s = m/2-0.5;
  const k = 4;
  for (let i=0;i<m;i++) {
    const card = players[j2].hand[i];
    let b = (1-Math.sin(i*Math.PI/2/s))*s/4;
    if (s<1) b=0;
    switch (j2) {
      case 0:
        set_position(`${card.rank}-${card.suit}`,{
           x: (i-s)*k*1.4,
           y: 45+b*2,
           z: 0,
          rx: 0,
          ry: 0,
          rz: (i-s)*2,
           s: 1.625,
          zi: i+13
        });
        const e = document.getElementById(`${card.rank}-${card.suit}`);
        e.classList.add("t2");
        e.setAttribute("onclick","user_play("+i+")");
        break;
      case 1:
        set_position(`${card.rank}-${card.suit}`,{
           x: -45-b*2,
           y: (i-s)*k,
           z: 0,
          rx: 0,
          ry: 180,
          rz: 90-(i-s)*2,
           s: 1,
          zi: i
        });
        break;
      case 2:
        set_position(`${card.rank}-${card.suit}`,{
           x: (i-s)*k,
           y: -45-b*2,
           z: 0,
          rx: 0,
          ry: 180,
          rz: 180+(i-s)*2,
           s: 1,
          zi: m-i
        });
        break;
      case 3:
        set_position(`${card.rank}-${card.suit}`,{
           x: 45+b*2,
           y: (i-s)*k,
           z: 0,
          rx: 0,
          ry: 180,
          rz: 270+(i-s)*2,
           s: 1,
          zi: m-i
        });
        break;
    }
  }
}

const drop_hands = (j=0) => {
  fix_hand(j);
  if (j<3) setTimeout(drop_hands,250,j+1);
};

const drop_card = (p,card) => {
  fix_hand(p);
  const nr = Math.random()*10-5;
  const nx = Math.random()*5-2.5;
  const ny = Math.random()*5-2.5;
  switch (p) {
    case 0:
      set_position(`${card.rank}-${card.suit}`,{
         x: nx,
         y: ny+20,
         z: 0,
        rx: 0,
        ry: 0,
        rz: nr,
         s: 1,
        zi: 0
      });
      const e = document.getElementById(`${card.rank}-${card.suit}`);
      e.classList.remove("t2");
      e.removeAttribute("onclick");
      break;
    case 1:
      set_position(`${card.rank}-${card.suit}`,{
         x: nx-20,
         y: ny,
         z: 0,
        rx: 0,
        ry: 0,
        rz: nr+90,
         s: 1,
        zi: 0
      });
      break;
    case 2:
      set_position(`${card.rank}-${card.suit}`,{
         x: nx,
         y: ny-20,
         z: 0,
        rx: 0,
        ry: 0,
        rz: nr+180,
         s: 1,
        zi: 0
      });
      break;
    case 3:
      set_position(`${card.rank}-${card.suit}`,{
         x: nx+20,
         y: ny,
         z: 0,
        rx: 0,
        ry: 0,
        rz: nr+270,
         s: 1,
        zi: 0
      });
      break;
  }
};

const take_cards = (cards,winner) => {
  for (let i=0;i<cards.length;i++) {
    const card = cards[i].card;
    switch (winner) {
      case 0:
      case 2:
        set_position(`${card.rank}-${card.suit}`,{
           x: -30+(tricks[0]+tricks[2])*4,
           y: -30+((tricks[0]+tricks[2])%2)*2.5,
           z: 0,
          rx: 0,
          ry: 180,
          rz: 180,
           s: 0.5,
          zi: (tricks[0]+tricks[2])-5
        });
        break;
      case 1:
      case 3:
        set_position(`${card.rank}-${card.suit}`,{
           x: -30+((tricks[1]+tricks[3])%2)*2.5,
           y: 30-(tricks[1]+tricks[3])*4,
           z: 0,
          rx: 0,
          ry: 180,
          rz: 270,
           s: 0.5,
          zi: (tricks[1]+tricks[3])-5
        });
        break;
    }
  }
};

const find_king = () => {
  const deck = shuffle(create_deck());
  let t = 0;
  const draw = async (deck) => {
    const card = deck.pop();
    const z = t;
    const nr = Math.random()*10-5;
    const nx = Math.random()*5-2.5;
    const ny = Math.random()*5-2.5;
    switch (t&3) {
      case 0:
        set_position(`${card.rank}-${card.suit}`,{
           x: nx,
           y: ny+30,
           z: 0,
          rx: 0,
          ry: 0,
          rz: nr,
           s: 1,
          zi: z
        });
        break;
     case 1:
        set_position(`${card.rank}-${card.suit}`,{
           x: nx-30,
           y: ny   ,
           z: 0,
          rx: 0,
          ry: 0,
          rz: 90+nr,
           s: 1,
          zi: z
        });
        break;
      case 2:
        set_position(`${card.rank}-${card.suit}`,{
          x: nx,
          y: ny-30,
          z: 0,
          rx: 0,
          ry: 0,
          rz: 180+nr,
           s: 1,
          zi: z
        });
        break;
     case 3:
        set_position(`${card.rank}-${card.suit}`,{
           x: nx+30,
           y: ny,
           z: 0,
          rx: 0,
          ry: 0,
          rz: 270+nr,
           s: 1,
          zi: z
        });
        break;
    }
    if (card.rank=="A") {
      king = t&3;
      log("Player "+(king+1)+" is The King.");
      await new Promise(resolve=>setTimeout(resolve,1000));
      reset_cards();
      await new Promise(resolve=>setTimeout(resolve,1500));
      select_trump();
      return;
    }
    t++;
    setTimeout(draw,250,deck);
  }
  draw(deck);
};

const select_trump = async () => {
  const deck = shuffle(create_deck());
  for (let i=0;i<4;i++){
    players[(i+king)&3].hand = deck.splice(0,5);
  }
  drop_hands();
  await new Promise(resolve=>setTimeout(resolve,1000));
  if (king==0) {
    select_trump_board.classList.add("active");
  } else {
    let counts = {};
    players[king].hand.forEach(c => { counts[c.suit] = (counts[c.suit]||0)+1; });
    trump_suit = Object.keys(counts).reduce((a,b)=>counts[a]>=counts[b]?a:b);
    trump_board.children[suits.indexOf(trump_suit)].style.display = "flex";
    log("King selected <span class=\""+((trump_suit=="‚ô¶"||trump_suit=="‚ô•")?"red":"black")+"\">"+trump_suit+"</span> as Trump.");
    setTimeout(complete_dealing,500);
  }
};

document.querySelectorAll("#select_trump_board div").forEach(btn => {
  btn.addEventListener("click",function () {
    trump_suit = this.innerText;
    trump_board.children[suits.indexOf(trump_suit)].style.display = "flex";
    select_trump_board.classList.remove("active");
    log("King selected <span class=\""+((trump_suit=="‚ô¶"||trump_suit=="‚ô•")?"red":"black")+"\">"+trump_suit+"</span> as Trump.");
    complete_dealing();
  });
});

const complete_dealing = async () => {
  const deck = shuffle(create_deck());
  players.forEach(p => {
     p.hand.forEach(c => {
       for (let i=0;i<deck.length;i++){
         if(deck[i].suit==c.suit&&deck[i].rank==c.rank) {
            deck.splice(i,1);
            break;
         }
       }
     });
  });
  for (let i=0;i<4;i++){
    const cards = deck.splice(0,4);
    players[(king+i)&3].hand = players[(king+i)&3].hand.concat(cards);
  }
  drop_hands();
  for (let i=0;i<4;i++){
    const cards = deck.splice(0,4);
    players[(king+i)&3].hand = players[(king+i)&3].hand.concat(cards);
  }
  await new Promise(resolve=>setTimeout(resolve,1000));
  drop_hands();
  current_leader = king;
  for (let i=0;i<4;i++){
    players[(king+i)&3].hand = sort_hand(players[(king+i)&3].hand);
  };
  await new Promise(resolve=>setTimeout(resolve,1000));
  drop_hands();
  setTimeout(start_trick,1000);
};

const start = () => {
  start_btn.style.display = "none";
  players = [{hand:[]},{hand:[]},{hand:[]},{hand:[]}];
  trump_suit = null;
  current_leader = null;
  trick = [];
  tricks = [0,0,0,0];
  round = 1;
  turn_order = [];
  turn_index = 0;
  user_played = false;
  log("Game Started.");
  if (king==null) { find_king(); } else {
    log("Player "+(king+1)+" is The King.");
    select_trump();
  }
};

const end = async () => {
  const t1 = tricks[0]+tricks[2];
  const t2 = tricks[1]+tricks[3];
    log((t1>t2?"Your Team Won.":"Your Team Lost. ")+"<br>");//t1+":"+t2
  alert((t1>t2?"Your Team Won.":"Your Team Lost. "));//t1+":"+t2
  counter_t1.style.opacity = 1;
  counter_t2.style.opacity = 1;
  if (t1>t2) {
    counter_t1.innerHTML = parseInt(counter_t1.innerHTML)+1+(t2==0?2:0);
  } else {
    counter_t2.innerHTML = parseInt(counter_t2.innerHTML)+1+(t1==0?2:0);
  }
  if (king==0||king==2) {
    if (t1<t2) king = (king+1)&3;
  } else {
    if (t1>t2) king = (king+1)&3;
  }
  //if (t1>t2) king = 0;
  reset_cards();
  await new Promise(resolve=>setTimeout(resolve,1250));
  trump_board.children[suits.indexOf(trump_suit)].style.display = "none";
  start_btn.style.display = "flex";
};

const log = (txt) => {
  log_board.innerHTML += txt+"<br>";
  log_board.scrollTop = log_board.scrollHeight;
};

log("<span>JOKE</span> v0.4.2 Beta - Nxrix<br>");
king = 0;
start_btn.onclick = start;
</script>
</html>